{%extends 'Router.html'%}
{%block title%}EBook Library{%endblock%}
{%block body%}
<div class="bg-gray-800 w-full h-full pb-2">
    <div class="relative w-full p-0 flex flex-col items-center justify-between mb-8 bg-gray-800">
        <main class="my-16">
            <div class="container px-4 mx-auto sm:px-6">
                <div class="lg:grid lg:grid-cols-12 lg:gap-8">
                    <div class="sm:text-center lg:col-span-6 lg:text-left lg:flex lg:items-center">
                        <div>
                            <p
                                class="inline-flex items-center p-1 pr-2 text-white bg-gray-800 rounded-full sm:text-base lg:text-sm xl:text-base hover:text-gray-200">
                                <span class="mx-4 text-sm">EBook Library Version</span><span
                                    class="px-3 py-0.5 text-white text-xs font-semibold leading-5 uppercase tracking-wide bg-blue-600 rounded-full">v3.1.1</span>
                            </p>
                            <h1
                                class="mt-4 text-3xl font-bold text-white sm:mt-5 sm:leading-none lg:mt-6 lg:text-4xl 2xl:text-5xl">
                                <span class="md:block">Explore the World's Leading</span><span
                                    class="text-blue-400 md:block"> EBook Library</span>
                            </h1>
                            <p class="mt-3 text-base text-gray-300 sm:mt-5 sm:text-xl xl:text-lg">Libraries store the
                                energy that fuels the imagination. They open up windows to the world and inspire us to
                                explore and achieve, and contribute to improving our quality of life. <b>- Sidney
                                    Sheldon</b></p>
                            <div class="flex flex-wrap items-center justify-center mt-8 space-x-5 lg:justify-start"><a
                                    aria-label="components" href="/" class="flex text-white hover:underline"><svg
                                        version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                                        xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                        viewBox="0 0 90.953 90.953" style="enable-background:new 0 0 90.953 90.953;"
                                        class="text-indigo-500 w-6 h-6 inline-block" xml:space="preserve">
                                        <g>
                                            <path style="fill:rgb(231, 231, 245);" stroke="white"
                                                d="M20.389,0.004l-10.157,9.48v81.469h60.332v-2.441l7.934-7.047h2.222V0L20.389,0.004L20.389,0.004z
                                          M70.564,86.605v-5.132v-1.432V9.488H21.82h-1.432h-5.315l0.365-0.358l0.365-0.358l3.869-3.794l0.358-0.354l0.358-0.351
                                          l1.031-1.009l0.401,0.011V2.87l0.036-0.036h56.181v77.131l-0.082,0.075l-1.61,1.432L70.564,86.605z" />
                                        </g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                    </svg>
                                    <p class="mx-2">139 Books</p>
                                </a><a aria-label="MIT License" class="flex text-white hover:underline" target="_blank"
                                    href="#"><svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                                        xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                        viewBox="0 0 478.6 478.6" style="enable-background:new 0 0 478.6 478.6;"
                                        class="w-6 h-6" xml:space="preserve">
                                        <g>
                                            <path id="XMLID_1718_" style="fill:rgb(231, 231, 245);" stroke="white" d="M442.7,444.6c-14.3-96.2-51.6-191-139.6-221.4C337.3,201.9,360,164,360,120.7C360,54.1,306,0,239.3,0
                    S118.6,54,118.6,120.7c0,43.2,22.8,81.2,56.9,102.5c-88,30.4-125.4,125.2-139.6,221.4c-2.7,17.9,11.4,34,29.5,34H413
                    C431.3,478.6,445.4,462.5,442.7,444.6z M164.1,120.7c0-41.5,33.8-75.3,75.3-75.3c9.9,0,18,8.1,18,18s-8.1,18-18,18
                    c-21.7,0-39.3,17.6-39.3,39.3c0,9.9-8.1,18-18,18C172.1,138.7,164.1,130.7,164.1,120.7z" />
                                        </g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                        <g></g>
                                    </svg>
                                    <p class="mx-2">130 Users</p>
                                </a></div>
                            <div
                                class="grid grid-cols-1 gap-3 mt-8 text-center lg:justify-start sm:justify-center sm:flex sm:gap-0 sm:space-x-4">
                                <a href="/"
                                    class="w-fit px-6 py-3 text-sm font-medium text-gray-900 capitalize transition-colors duration-300 bg-white rounded-lg hover:bg-gray-300 focus:outline-none focus:ring focus:ring-opacity-40 focus:ring-gray-100 mx-auto sm:mx-0">
                                    Browse Components</a><a aria-label="Premium Themes" href="/"
                                    class="flex items-center justify-center px-6 py-3 space-x-2 text-sm font-medium text-white transition-colors duration-300 bg-gray-800 rounded-lg hover:bg-gray-700 focus:outline-none focus:ring focus:ring-opacity-40 focus:ring-gray-600"><span>Premium
                                        Themes </span><svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                                        class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                                    </svg></a>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-center justify-end mt-16 sm:mt-24 lg:mt-0 lg:col-span-6">
                        <img class="hidden lg:block xl:max-w-xl" src="../static/Media/bg2.png" alt="header" />
                    </div>
                </div>
            </div>
        </main>
    </div>
    <!-- Search -->
    <div class="container px-2 mx-auto">
        <div class="border-t my-20 rounded-lg shadow-md pb-4 px-4 lg:px-8 lg:pb-8 pt-0 shadow-blue-600/60">
            <div class="mt-2 text-center flex items-center justify-center pt-2">
                <button
                    class="shadow-inner text-xl font-bold tracking-wide mr-2 px-5 py-3 rounded-t bg-gray-900 cursor-pointer active:translate-y-[2px]">Search
                    Books
                </button>
            </div>
            <div class="bg-gray-900 p-4">
                <form action="/search">
                    <input
                        class="bg-gray-900 w-full rounded border text-gray-50 p-2 text-lg font-semibold border-gray-900"
                        type="text" value="" name="searchbook" placeholder="Search book by Book name or Author name">
                </form>
            </div>
        </div>
    </div>

    <div id="search"
        class="container my-8 text-5xl text-gray-200 items-center justify-start mx-auto underline underline-offset-8">
        <h1 class="font-extrabold w-full mx-auto px-2">Library</h1>
    </div>

    {% if Search %}
    <div
        class="container mx-4 xl:mx-auto border-t my-20 rounded-lg shadow-md pb-4 px-4 lg:px-8 lg:pb-8 pt-0 shadow-blue-600/60">
        <div class="mt-2 text-center flex items-center justify-center pt-2">
            <button
                class="flex flex-col sm:flex-row items-center justify-center shadow-inner text-xl font-bold tracking-wide mr-2 px-5 py-3 rounded-t bg-gray-900 cursor-pointer"><span
                    class="block sm:mr-2">Searched Results</span>
            </button>
        </div>
        <div
            class="cards scrollbar flex w-full h-72 snap-x snap-mandatory rounded bg-gray-900 shadow-inner drop-shadow-2xl border-gray-300 overflow-y-hidden scroll-smooth">
            <!-- Place your content here -->
            {% if Search.Category == "Not Found" %}
            <span class="flex items-center justify-center shadow-inner mx-auto">
                <div class="my-2 text-lg block">
                    Your search - "<b class="text-xl text-red-500 font-bold">{{query}}</b>" - did not match any documents.<br><br>
                    <span>
                        Suggestions:<br>
                        <ul class="list-disc ml-8">
                            <li>Make sure that all words are spelled correctly.</li>
                            <li>Try different keywords.</li>
                            <li>Try more general keywords.</li>
                        </ul>
                    </span>
                </div>
            </span>
            {% else %}
            {% for j in Search %}
            <a href="/book/{{j.id}}" class="shadow-inner snap-start shrink-0 first:pl-8 last:pr-8 m-2 mx-4">
                <img class="shrink-0 h-[80%] mt-8 hover:scale-105 active:scale-100 duration-300"
                    src="/media/{{j.image}}">
            </a>
            {% endfor %}
            {% endif %}

        </div>
    </div>
    {% endif %}

    <!-- component -->
    <div class="container mx-auto">
        {% for i in Category %}
        {% if i != "Not Found" %}
        <div
            class="relative max-w-full xl:w-full mx-4 xl:mx-auto border-t my-20 rounded-lg shadow-md pb-4 px-4 lg:px-8 lg:pb-8 pt-0 shadow-blue-600/60">
            <div class="mt-2 text-center flex items-center justify-center pt-2">
                <button
                    class="flex flex-col sm:flex-row items-center justify-center shadow-inner text-xl font-bold tracking-wide mr-2 px-5 py-3 rounded-t bg-gray-900 cursor-pointer"><span
                        class="block sm:mr-2">Books related to</span> {{i}}
                </button>
            </div>
            <div
                class="cards scrollbar flex w-full h-72 snap-x snap-mandatory rounded bg-gray-900 shadow-inner drop-shadow-2xl border-gray-300 overflow-y-hidden scroll-smooth">
                <!-- Place your content here -->
                {% for j in Books %}
                {% if j.Category == i %}

                <a href="/book/{{j.id}}" class="shadow-inner snap-start shrink-0 first:pl-8 last:pr-8 m-2 mx-4">
                    <img class="shrink-0 h-[80%] mt-8 hover:scale-105 active:scale-100 duration-300"
                        src="/media/{{j.image}}">
                </a>
                {% else %}
                {% endif %}
                {% endfor %}
            </div>
        </div>
        {% endif %}
        {% endfor %}
    </div>
</div>
{% endblock %}